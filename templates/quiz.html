{% extends "base.html" %}

{% block title %}Take Quiz - Quiz Master{% endblock %}

{% block content %}
<div class="quiz-page-container">
    <!-- Background Animation -->
    <div class="quiz-background">
        <div class="quiz-particles">
            <div class="particle particle-1"></div>
            <div class="particle particle-2"></div>
            <div class="particle particle-3"></div>
            <div class="particle particle-4"></div>
            <div class="particle particle-5"></div>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8">
            <div class="quiz-card">
                <!-- Quiz Header -->
                <div class="quiz-header">
                    <div class="quiz-header-content">
                        <div class="quiz-logo">
                            <i class="fas fa-brain"></i>
                        </div>
                        <div class="quiz-title-section">
                            <h2 class="quiz-title">React Knowledge Quiz</h2>
                            <p class="quiz-subtitle">Test your React.js skills with interactive questions</p>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div class="quiz-progress-section">
                        <div class="progress-container">
                            <div class="progress-info">
                                <span class="progress-text">Progress</span>
                                <span class="progress-percentage" id="progressText">0%</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar-bg">
                                    <div id="progressBar" class="progress-bar-fill"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quiz Body -->
                <div class="quiz-body">
                    <!-- Timer and Question Counter -->
                    <div class="quiz-stats">
                        <div class="timer-card">
                            <div class="timer-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="timer-content">
                                <span class="timer-label">Time Left</span>
                                <span id="timer" class="timer-value">60</span>
                                <span class="timer-unit">sec</span>
                            </div>
                        </div>

                        <div class="question-counter-card">
                            <div class="counter-icon">
                                <i class="fas fa-list-ol"></i>
                            </div>
                            <div class="counter-content">
                                <span class="counter-label">Question</span>
                                <span class="counter-value">
                                    <span id="currentQuestion">1</span>
                                    <span class="counter-separator">/</span>
                                    <span id="totalQuestions">10</span>
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- Question Section -->
                    <div class="question-container">
                        <div class="question-header">
                            <div class="question-number">
                                <span id="questionNumber">1</span>
                            </div>
                            <div class="question-text">
                                <h3 id="question" class="question-title">Loading question...</h3>
                            </div>
                        </div>

                        <!-- Options Container -->
                        <div id="options" class="options-grid">
                            <!-- Options will be loaded here -->
                        </div>
                    </div>

                    <!-- Navigation -->
                    <div class="quiz-navigation">
                        <button id="prevBtn" class="nav-btn nav-btn-prev" style="display: none;">
                            <i class="fas fa-chevron-left"></i>
                            <span>Previous</span>
                        </button>

                        <div class="nav-center">
                            <div class="score-display" id="score" style="display: none;">
                                <!-- Score will be displayed here -->
                            </div>
                        </div>

                        <button id="nextBtn" class="nav-btn nav-btn-next">
                            <span>Next</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <!-- Reset Section -->
                    <div class="quiz-reset-section">
                        <button id="resetBtn" class="reset-btn" style="display: none;">
                            <i class="fas fa-redo-alt"></i>
                            <span>Take Another Quiz</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Audio Elements -->
<audio id="correctSound" src="{{ url_for('static', filename='sounds/correct.mp3') }}"></audio>
<audio id="wrongSound" src="{{ url_for('static', filename='sounds/wrong.mp3') }}"></audio>
<audio id="completedSound" src="{{ url_for('static', filename='sounds/complete.mp3') }}"></audio>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/quiz.js') }}"></script>
{% endblock %}